(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,t,a){e.exports=a(307)},140:function(e,t,a){},148:function(e,t){},150:function(e,t){},307:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),c=a.n(s),i=(a(140),a(23)),o=a(24),l=a(26),u=a(25),m=a(27),p=a(17),d=a(15),f=a.n(d),h=a(21),b={mapKmlData:{}},g=function(e){return Object.assign(b,e)},v=Object(n.createContext)(),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).resetValues=function(){a.setState({map:g(a.props.defaultContextualHelpValue)})},a.setValues=function(e){a.setState({map:Object(h.a)({},a.state.mapData,e)})},a.setMapKmlData=function(e){a.setState({map:Object(h.a)({},a.state.mapData,{mapKmlData:e})})},a.state={map:g(e.defaultContextualHelpValue)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.map;return r.a.createElement(v.Provider,{value:{map:Object(h.a)({},e,{setValues:this.setValues,resetValues:this.resetValues,setMapKmlData:this.setMapKmlData})},children:this.props.children})}}]),t}(r.a.Component),j=(v.Consumer,function(e){var t,a;return a=t=function(t){function a(){return Object(i.a)(this,a),Object(l.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(v.Consumer,null,function(a){var n=a.map;return r.a.createElement(e,Object.assign({},t.props,{map:n}))})}}]),a}(r.a.Component),t.displayName="withMapContext(".concat(e.displayName||e.name,")"),a}),O=a(29),y=a.n(O),E=a(42),x=a(18),w=a(57),S=a.n(w),C=a(58),N=a.n(C),I=a(129),D=a.n(I),U=a(128),V=a.n(U),_=a(127),z=a.n(_),K=a(117),L=a.n(K);function P(e){return B.apply(this,arguments)}function B(){return(B=Object(E.a)(y.a.mark(function e(t){var a,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.text();case 6:return r=e.sent,e.next=9,F(r);case 9:a=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),a={status:"error",message:"There has been a problem with the URL, please check that URL provided is a valid and public URL",data:{}};case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}},e,this,[[0,12]])}))).apply(this,arguments)}function F(e){return M.apply(this,arguments)}function M(){return(M=Object(E.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a={status:"success",message:"success",data:{}};try{n=L.a.xml2json(t,{compact:!0,spaces:4}),n=(n=JSON.parse(n)).kml.Document,a={status:"success",message:"success",data:n}}catch(r){a={status:"error",message:r+"",data:{}}}return e.abrupt("return",a);case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var T=a(134),R=a(6),J=a.n(R),H=a(118),W=a.n(H),A=a(121),G=a.n(A),Y=a(122),$=a.n(Y),q=a(126),Q=a.n(q),Z=a(123),X=a.n(Z),ee=a(124),te=a.n(ee),ae=a(125),ne=a.n(ae),re=a(79),se=a.n(re),ce=a(120),ie=a.n(ce),oe={success:W.a,warning:ie.a,error:G.a,info:$.a};var le=Object(p.withStyles)(function(e){return{success:{backgroundColor:X.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:te.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,a=e.className,n=e.message,s=e.onClose,c=e.variant,i=Object(T.a)(e,["classes","className","message","onClose","variant"]),o=oe[c];return r.a.createElement(se.a,Object.assign({className:J()(t[c],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(o,{className:J()(t.icon,t.iconVariant)}),n),action:[r.a.createElement(ne.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:s},r.a.createElement(Q.a,{className:t.icon}))]},i))});var ue=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={mapUrl:"https://www.google.com/maps/d/kml?forcekml=1&mid=1uijK5r96G4IZSlJ_zaI7YiBpfISB6xNk",isValidUrl:!0,snackbar:{open:!1,variant:"info",message:""}},e.onInputChange=e.onInputChange.bind(Object(x.a)(Object(x.a)(e))),e.onFormSubmit=e.onFormSubmit.bind(Object(x.a)(Object(x.a)(e))),e.onCloseSnackbar=e.onCloseSnackbar.bind(Object(x.a)(Object(x.a)(e))),e.showSnackbar=e.showSnackbar.bind(Object(x.a)(Object(x.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onCloseSnackbar",value:function(e,t){"clickaway"!==t&&this.setState(Object(h.a)({},this.state,{snackbar:Object(h.a)({},this.state.snackbar,{open:!1})}))}},{key:"showSnackbar",value:function(e,t){this.setState(Object(h.a)({},this.state,{snackbar:Object(h.a)({},this.state.snackbar,{open:!0,variant:e,message:t})}))}},{key:"onInputChange",value:function(e){var t,a=e.target.value;this.setState(Object(h.a)({},this.state,{mapUrl:a,isValidUrl:""===a||(t=a,/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t))}))}},{key:"onFormSubmit",value:function(){var e=Object(E.a)(y.a.mark(function e(t){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,P(this.state.mapUrl);case 3:"success"===(a=e.sent).status?this.props.map.setMapKmlData(a.data):(this.props.map.setMapKmlData({}),this.showSnackbar("error",a.message));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(z.a,{anchorOrigin:{vertical:"top",horizontal:"left"},open:this.state.snackbar.open,autoHideDuration:6e3},r.a.createElement(le,{onClose:this.onCloseSnackbar,variant:this.state.snackbar.variant,message:this.state.snackbar.message})),r.a.createElement(S.a,{className:e.card},r.a.createElement(N.a,{className:e.content},r.a.createElement("form",{onSubmit:this.onFormSubmit},r.a.createElement(f.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(V.a,{required:!0,id:"input-map-url",value:this.state.mapUrl,error:!this.state.isValidUrl,onChange:this.onInputChange,label:"Your Map URL",helperText:"URL of your map (the map has to be public)",className:e.textField,margin:"normal",variant:"outlined",fullWidth:!0}))),r.a.createElement(f.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement(f.a,{item:!0},r.a.createElement(D.a,{variant:"contained",color:"primary",className:e.button,type:"submit",disabled:!this.state.isValidUrl||""===this.state.mapUrl},"Get Map Info")))))))}}]),t}(n.Component),me=j(Object(p.withStyles)(function(e){return{card:{marginTop:4*e.spacing.unit},content:{}}})(ue)),pe=a(132),de=a.n(pe),fe=a(28),he=a.n(fe),be=a(133),ge=a.n(be),ve=a(131),ke=a.n(ve),je=a(130),Oe=a.n(je);var ye=Object(p.withStyles)(function(e){return{card:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{width:150,height:150},controls:{display:"flex",alignItems:"left",paddingLeft:e.spacing.unit,paddingBottom:e.spacing.unit}}},{withTheme:!0})(function(e){var t=e.classes,a=(e.theme,e.placemark);function s(e){if(e.Point.coordinates){var t={lat:"",lng:""},a=e.Point.coordinates._text?e.Point.coordinates._text:e.Point.coordinates._cdata;return(a=a.split(",")).length>0&&(t.lat=a[1].trim(),t.lng=a[0].trim()),t}return""}return r.a.createElement(S.a,{className:t.card},r.a.createElement(ke.a,{className:t.cover,image:"https://maps.googleapis.com/maps/api/staticmap?autoscale=2&size=150x150&maptype=roadmap&key=AIzaSyB0-K4EabO1J3223LQblNbfstkPkbmb04k&format=png&visual_refresh=true&markers=size:small%7Ccolor:0x3998f1%7Clabel:1%7C".concat(function(e){var t=s(e);return"".concat(t.lat,",").concat(t.lng)}(a)),title:"Live from space album cover"}),r.a.createElement("div",{className:t.details},r.a.createElement(N.a,{className:t.content},r.a.createElement(he.a,{component:"h5",variant:"h5"},function(e){return e.name?e.name._text?e.name._text:e.name._cdata:""}(a)),r.a.createElement(he.a,{variant:"body2",color:"textSecondary"},function(e){if(e.Point.coordinates){var t=s(e);return r.a.createElement(n.Fragment,null,r.a.createElement(Oe.a,{fontSize:"inherit"})," Lat: ",t.lat,", Lng: ",t.lng)}return""}(a)),r.a.createElement(he.a,{variant:"body1"},function(e){return e.description?e.description._text?e.description._text:e.description._cdata:""}(a))),r.a.createElement("div",{className:t.controls})))});var Ee=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.map.mapKmlData,t=this.props.classes;console.log(e);return function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)?null:r.a.createElement("div",{className:t.root},r.a.createElement(f.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},r.a.createElement(f.a,{item:!0},r.a.createElement(de.a,{color:"primary","aria-label":"Add",className:t.printButton},r.a.createElement(ge.a,null)))),r.a.createElement(f.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(he.a,{component:"h1",variant:"h4"},e.name._text)),r.a.createElement(f.a,{item:!0,xs:12},r.a.createElement(he.a,{variant:"subtitle1",color:"textSecondary"},e.description._text)),e.Folder.map(function(e,a){return r.a.createElement(n.Fragment,{key:a},r.a.createElement(f.a,{item:!0,xs:12,className:t.folder},r.a.createElement(he.a,{component:"h3",variant:"h6"},e.name._text)),e.Placemark?e.Placemark.map(function(e,a){return r.a.createElement(f.a,{item:!0,xs:12,key:a,className:t.placemark},r.a.createElement(ye,{placemark:e}))}):null)})))}}]),t}(n.Component),xe=j(Object(p.withStyles)(function(e){return{root:{marginTop:4*e.spacing.unit},printButton:{position:"absolute",bottom:e.spacing.unit,right:e.spacing.unit},folder:{marginTop:3*e.spacing.unit},placemark:{marginTop:2*e.spacing.unit}}})(Ee)),we=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(k,null,r.a.createElement("div",{className:e.root},r.a.createElement(f.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:24},r.a.createElement(f.a,{item:!0,xs:11,sm:10},r.a.createElement(me,null),r.a.createElement(xe,null)))))}}]),t}(n.Component),Se=Object(p.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.default,height:"100%",overflow:"auto"}}})(we);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[135,2,1]]]);
//# sourceMappingURL=main.d6a55e02.chunk.js.map